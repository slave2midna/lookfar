/* ==========================================================================
 * Lookfar GM Assistant - Shared Stylesheet
 * Sections:
 *   1) Travel Check Dialog
 *   2) Travel Result Dialog
 *   3) Item Forger (main + mini)
 * ========================================================================== */


/* ========================================================================== */
/* 1) Lookfar Travel Check Dialog                                             */
/* ========================================================================== */

#lookfar-travel-check {
  /* Ensure it uses full dialog width */
  width: 100%;
  box-sizing: border-box;
}

#lookfar-travel-check .lf-travel-flex-row {
  display: flex;
  gap: 20px;
  align-items: flex-start;
}

#lookfar-travel-check .lf-travel-column {
  flex: 1;
  min-width: 0;
}

/* Base styling for both tables in the dialog */
#lookfar-travel-check .travel-check-table {
  width: 100%;
  border-collapse: collapse;
}

#lookfar-travel-check .lf-travel-caption {
  font-weight: bold;
  font-size: 1.1em;
  text-align: left;
  margin-bottom: 4px;
}

/* Treasure hunter row (stars) */
#lookfar-travel-check .lf-travel-th-row {
  white-space: nowrap;
}

#lookfar-travel-check .lf-travel-treasure-row {
  display: flex;
  align-items: center;
  gap: 10px;
}

#lookfar-travel-check .lf-travel-inline-label {
  margin: 0;
}

#lookfar-travel-check .lf-travel-stars {
  display: flex;
  gap: 5px;
  font-size: 1.2em;
  white-space: nowrap;
  cursor: pointer;
}

/* Nicer spacing for radio labels */
#lookfar-travel-check td label {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}


/* ========================================================================== */
/* 2) Lookfar Travel Result Dialog                                            */
/* ========================================================================== */

#lookfar-travel-result .travel-result-body {
  font-size: 1.1rem;
  margin-bottom: 10px;
}

#lookfar-travel-result .travel-result-prompt {
  margin-bottom: 1rem;
}

/* Tables inside the result */
#lookfar-travel-result table {
  width: 100%;
  border-collapse: collapse;
}

#lookfar-travel-result th,
#lookfar-travel-result td {
  padding: 5px;
  border: 1px solid;
  text-align: left;
}

/* Dialog frame (you already add .ff6-dialog in render) */
.ff6-dialog {
  /* You can extend your FF6-style window here if desired */
  /* e.g. font-family, background, border, etc. */
}


/* ========================================================================== */
/* 3) Lookfar â€“ Item Forger (main + mini)                                     */
/* ========================================================================== */

/* --- Shared container ----------------------------------------------------- */

#if-body {
  width: 100%;
  box-sizing: border-box;
  font-size: 14px;
}

/* Fieldset defaults */
.lf-if-fieldset {
  margin: 0 0 6px 0;
  padding: 4px 6px;
  border: 1px solid var(--color-border-light, #8882);
  border-radius: 4px;
}

.lf-if-fieldset > legend {
  font-weight: bold;
  padding: 0 4px;
  font-size: 0.95em;
}

/* Flex helpers */
.lf-if-flex {
  display: flex;
  gap: 4px;
  align-items: flex-start;
  min-width: 0;
}

/* Left / Right columns in main forge dialog */
#if-body .lf-if-left {
  flex: 0 0 60%;
  min-width: 0;
  display: flex;
  flex-direction: column;
}

#if-body .lf-if-right {
  flex: 0 0 40%;
  min-width: 0;
  display: flex;
  flex-direction: column;
}


/* ========================================================================== */
/* 3a) Template and Quality Lists                                             */
/* ========================================================================== */

#if-body #templateList,
#if-body #qualitiesList {
  border: 1px solid #999;
  overflow-y: auto;
  box-sizing: border-box;
  background: rgba(0, 0, 0, 0.04);
}

#if-body #templateList {
  height: 100px;
}

#if-body #qualitiesList {
  height: 138px;
}

/* Selectable rows */
.if-template,
.if-quality {
  padding: 2px 4px;
  cursor: pointer;
  user-select: none;
}

.if-template:hover,
.if-quality:hover {
  background-color: rgba(0,0,0,0.1);
}

.if-template[data-selected="1"],
.if-quality[data-selected="1"] {
  background-color: rgba(65, 105, 225, 1);
  color: white;
}


/* ========================================================================== */
/* 3b) Attributes / Customize                                                 */
/* ========================================================================== */

#if-body #attrInner label {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

#if-body #customizeArea label {
  display: flex;
  align-items: center;
  gap: 4px;
  line-height: 1;
}

#if-body #customizeArea input[type="checkbox"] {
  transform: scale(0.9);
  transform-origin: left center;
  margin: 0 4px 0 0;
}

#if-body #customizeArea select {
  height: 22px;
}


/* ========================================================================== */
/* 3c) Preview Card                                                           */
/* ========================================================================== */

#if-body #itemPreviewLarge {
  width: 100%;
  height: 165px;
  border: 1px solid #999;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Inner preview structure */
#if-body #if-preview-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  padding: 6px;
  gap: 8px;
  box-sizing: border-box;
}

#if-body #if-preview-head {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

/* Icon wrapper allowing badge overlays */
.if-icon-wrap {
  position: relative;
  display: inline-block;
  width: 32px;
  height: 32px;
}

#if-body #if-preview-icon {
  width: 32px;
  height: 32px;
  object-fit: contain;
  image-rendering: auto;
  cursor: default;
}

/* Martial badge */
.if-badge {
  position: absolute;
  left: -2px;
  top: -2px;
  z-index: 2;
  transform: scale(0.9);
  pointer-events: none;
}

/* Rows inside preview card */
#if-body #if-preview-rows {
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 4px;
}

.if-row {
  width: 100%;
  text-align: center;
  font-size: 11px;
  line-height: 1.15;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.if-row-desc {
  width: 100%;
  text-align: center;
  font-size: 11px;
  line-height: 1.2;
  white-space: normal;
  overflow: hidden;
  padding: 4px 8px;
  box-sizing: border-box;
}

.if-muted {
  opacity: 0.7;
}

.if-tight {
  letter-spacing: 0.2px;
}


/* ========================================================================== */
/* 3d) Materials Drop Zone (main + mini)                                      */
/* ========================================================================== */

.lf-if-materials-fieldset {
  margin: 0 0 6px 0;
}

#materialsDrop.lf-if-materials-drop {
  min-height: 72px;
  border: 1px dashed #999;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 6px;
  box-sizing: border-box;
  user-select: none;
}

#materialsDrop.lf-if-materials-drop img[data-mat="1"] {
  width: 48px;
  height: 48px;
  object-fit: contain;
  cursor: pointer;
  image-rendering: auto;
}

#materialsHint.lf-if-materials-hint {
  opacity: 0.6;
  font-size: 12px;
}

/* Mini-forge: slightly taller materials box */
#lookfar-itemforge-mini #materialsDrop {
  min-height: 96px;
}


/* ========================================================================== */
/* 3e) Cost Row                                                               */
/* ========================================================================== */

#if-body #costRow {
  font-size: 14px;
  display: inline-flex;
  align-items: center;
  height: 25px;
}

#if-body #costValue {
  display: inline-block;
  width: 4ch;
  text-align: left;
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum";
}

#if-body #costRow label {
  display: inline-flex;
  align-items: center;
  white-space: nowrap;
}

#if-body #optFee {
  margin-right: 4px;
}


/* ========================================================================== */
/* 3f) Disabled / Locked State                                                */
/* ========================================================================== */

.lf-if-disabled {
  opacity: 0.5 !important;
  filter: grayscale(1) !important;
  cursor: not-allowed !important;
}
